<!-- index.html -->
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#1a2a1d">
  <title>Japanese Whisky Selection</title>
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --dark-bg: #1a2a1d;
      --dark-text: #e8f5e9;
      --dark-card: #2c3e2f;
      --light-bg: #f5f9ee;
      --light-text: #1a2a1d;
      --light-card: #e4ede0;
      --accent: #8ba87d;
      --gold: #d4af37;
      --pine: #3d5a45;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      transition: background 0.3s, color 0.3s;
    }

    body {
      font-family: 'Georgia', serif;
      background-color: var(--dark-bg);
      color: var(--dark-text);
      background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect width="100" height="100" fill="%231a2a1d"/><path d="M20,20 Q40,5 60,20 T100,20 M20,50 Q40,35 60,50 T100,50 M20,80 Q40,65 60,80 T100,80" stroke="%232c3e2f" stroke-width="1" fill="none"/></svg>');
      min-height: 100vh;
      padding-bottom: 60px;
      position: relative;
    }

    body[data-theme="light"] {
      background-color: var(--light-bg);
      color: var(--light-text);
      background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect width="100" height="100" fill="%23f5f9ee"/><path d="M20,20 Q40,5 60,20 T100,20 M20,50 Q40,35 60,50 T100,50 M20,80 Q40,65 60,80 T100,80" stroke="%23e4ede0" stroke-width="1" fill="none"/></svg>');
    }

    body::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 300px;
      background: linear-gradient(to bottom, rgba(26, 42, 29, 0.9), transparent);
      z-index: -1;
    }

    body[data-theme="light"]::before {
      background: linear-gradient(to bottom, rgba(229, 245, 233, 0.9), transparent);
    }

    header {
      padding: 1rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: rgba(26, 42, 29, 0.85);
      box-shadow: 0 2px 10px rgba(0,0,0,0.3);
      position: sticky;
      top: 0;
      z-index: 100;
    }

    body[data-theme="light"] header {
      background: rgba(229, 245, 233, 0.85);
    }

    .logo {
      font-size: 1.8rem;
      font-weight: bold;
      color: var(--gold);
      letter-spacing: 2px;
      font-family: 'Times New Roman', serif;
      display: flex;
      align-items: center;
    }

    .logo i {
      margin-right: 10px;
      color: var(--accent);
    }

    .controls {
      display: flex;
      gap: 10px;
    }

    .btn {
      background: var(--dark-card);
      color: var(--dark-text);
      border: none;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.2rem;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    }

    body[data-theme="light"] .btn {
      background: var(--light-card);
      color: var(--light-text);
    }

    .page-title {
      text-align: center;
      padding: 1.5rem 0;
      font-size: 2.2rem;
      letter-spacing: 3px;
      color: var(--gold);
      text-shadow: 1px 1px 3px rgba(0,0,0,0.5);
      margin-top: 10px;
      position: relative;
    }

    .page-title::after {
      content: "";
      display: block;
      width: 80px;
      height: 2px;
      background: var(--gold);
      margin: 10px auto;
    }

    .whisky-list {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 1.8rem;
      padding: 0 1.5rem;
      max-width: 1400px;
      margin: 0 auto;
    }

    .whisky-card {
      background: var(--dark-card);
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 8px 20px rgba(0,0,0,0.25);
      transition: transform 0.3s, box-shadow 0.3s;
      cursor: pointer;
      position: relative;
      border: 1px solid rgba(139, 168, 125, 0.2);
    }

    body[data-theme="light"] .whisky-card {
      background: var(--light-card);
    }

    .whisky-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 12px 25px rgba(0,0,0,0.35);
    }

    .card-img {
      width: 100%;
      height: 220px;
      background-color: #444;
      background-size: cover;
      background-position: center;
      position: relative;
    }

    .card-type {
      position: absolute;
      top: 15px;
      right: 15px;
      background: rgba(212, 175, 55, 0.85);
      color: #1a2a1d;
      padding: 4px 10px;
      border-radius: 15px;
      font-size: 0.8rem;
      font-weight: bold;
    }

    .card-content {
      padding: 1.5rem;
    }

    .card-title {
      font-size: 1.5rem;
      margin-bottom: 0.5rem;
      color: var(--gold);
      font-family: 'Times New Roman', serif;
    }

    .card-subtitle {
      color: var(--accent);
      font-size: 0.9rem;
      margin-bottom: 0.8rem;
    }

    .card-features {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 15px;
    }

    .card-feature {
      background: rgba(139, 168, 125, 0.2);
      padding: 4px 10px;
      border-radius: 12px;
      font-size: 0.8rem;
    }

    .detail-page {
      max-width: 900px;
      margin: 0 auto;
      padding: 1.5rem;
      display: none;
    }

    .detail-header {
      text-align: center;
      margin-bottom: 2.5rem;
    }

    .detail-img {
      width: 100%;
      height: 400px;
      background-color: #555;
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
      margin-bottom: 2rem;
      border-radius: 10px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
      border: 1px solid rgba(139, 168, 125, 0.3);
    }

    .detail-content {
      background: var(--dark-card);
      padding: 2.5rem;
      border-radius: 10px;
      box-shadow: 0 8px 30px rgba(0,0,0,0.35);
      position: relative;
    }

    body[data-theme="light"] .detail-content {
      background: var(--light-card);
    }

    .detail-content::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 5px;
      background: linear-gradient(to right, var(--pine), var(--gold));
      border-radius: 10px 10px 0 0;
    }

    .detail-title {
      font-size: 2.3rem;
      color: var(--gold);
      margin-bottom: 1.2rem;
      font-family: 'Times New Roman', serif;
      text-align: center;
    }

    .detail-section {
      margin-bottom: 1.8rem;
      padding-bottom: 1.5rem;
      border-bottom: 1px dashed rgba(139, 168, 125, 0.3);
    }

    .detail-label {
      font-weight: bold;
      color: var(--accent);
      display: block;
      margin-bottom: 0.5rem;
      font-size: 1.1rem;
      display: flex;
      align-items: center;
    }

    .detail-label i {
      margin-right: 8px;
      color: var(--gold);
    }

    .story {
      font-style: italic;
      border-left: 3px solid var(--gold);
      padding: 0.8rem 0 0.8rem 1.2rem;
      margin: 1.8rem 0;
      background: rgba(139, 168, 125, 0.1);
      border-radius: 0 8px 8px 0;
    }

    .detail-features {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 1rem;
      margin-top: 1rem;
    }

    .detail-feature {
      background: rgba(139, 168, 125, 0.15);
      padding: 0.8rem;
      border-radius: 8px;
      font-size: 0.9rem;
    }

    .detail-feature strong {
      color: var(--accent);
    }

    .back-btn {
      display: inline-flex;
      align-items: center;
      margin-top: 2rem;
      padding: 0.9rem 1.8rem;
      background: var(--gold);
      color: #1a2a1d;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-weight: bold;
      font-size: 1.1rem;
      box-shadow: 0 3px 8px rgba(0,0,0,0.2);
      transition: transform 0.2s;
    }

    .back-btn:hover {
      transform: translateY(-2px);
    }

    .back-btn i {
      margin-right: 8px;
    }

    footer {
      text-align: center;
      padding: 2.5rem 1rem;
      margin-top: 3rem;
      font-size: 1rem;
      color: var(--accent);
      background: rgba(26, 42, 29, 0.7);
      border-top: 1px solid rgba(139, 168, 125, 0.3);
    }

    body[data-theme="light"] footer {
      background: rgba(229, 245, 233, 0.7);
    }

    .footer-content {
      max-width: 500px;
      margin: 0 auto;
    }

    .email-link {
      color: var(--gold);
      text-decoration: none;
      display: block;
      margin-top: 0.8rem;
      font-weight: bold;
      font-size: 1.1rem;
      transition: opacity 0.3s;
    }

    .email-link:hover {
      opacity: 0.9;
      text-decoration: underline;
    }

    .footer-note {
      margin-top: 1.5rem;
      font-size: 0.85rem;
      opacity: 0.7;
    }

    @media (max-width: 768px) {
      .whisky-list {
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        gap: 1.2rem;
      }
      
      .logo {
        font-size: 1.4rem;
      }
      
      .detail-content {
        padding: 1.8rem;
      }
      
      .detail-img {
        height: 300px;
      }
    }

    @media (max-width: 480px) {
      .whisky-list {
        grid-template-columns: 1fr;
      }
      
      .page-title {
        font-size: 1.8rem;
      }
      
      .detail-title {
        font-size: 1.9rem;
      }
    }
  </style>
</head>
<body data-theme="dark" data-lang="en">
  <header>
    <div class="logo">
      <i class="fas fa-forest"></i>
      <span>日本ウイスキー</span>
    </div>
    <div class="controls">
      <button id="themeToggle" class="btn" title="Toggle theme">
        <i class="fas fa-moon"></i>
      </button>
      <button id="langToggle" class="btn" title="Toggle language">
        <i class="fas fa-language"></i>
      </button>
    </div>
  </header>

  <main id="mainPage">
    <h1 class="page-title" data-lang="en">Japanese Whisky Selection</h1>
    <h1 class="page-title" data-lang="ja" style="display:none">日本のウイスキー選りすぐり</h1>
    
    <div class="whisky-list">
      <!-- Whisky cards will be dynamically inserted here -->
    </div>
  </main>

  <section id="detailPage" class="detail-page">
    <!-- Detail content will be dynamically inserted here -->
  </section>

  <footer>
    <div class="footer-content">
      <div data-lang="en">Contact us</div>
      <div data-lang="ja" style="display:none">お問い合わせ</div>
      <a href="mailto:mementomorikatsu@gmail.com" class="email-link">mementomorikatsu@gmail.com</a>
      <div class="footer-note" data-lang="en">Discover the art of Japanese whisky craftsmanship</div>
      <div class="footer-note" data-lang="ja" style="display:none">日本のウイスキー職人の技を発見する</div>
    </div>
  </footer>

  <script>
    // Whisky data with cultural stories and features
    const whiskyData = [
      {
        id: "yamazaki",
        name_en: "Yamazaki",
        name_ja: "山崎",
        type_en: "Single Malt",
        type_ja: "シングルモルト",
        description_en: "Japan's first single malt whisky with complex fruit and spice notes, matured in various casks.",
        description_ja: "多彩な樽で熟成され、複雑な果実とスパイスの香りが特徴の日本初のシングルモルトウイスキー。",
        story_en: "Founded in 1923 by Shinjiro Torii, Yamazaki is Japan's oldest distillery. Its location was chosen for its pure water source and humid climate similar to Scotland. The distillery sits where three rivers converge, creating unique mist conditions perfect for maturation.",
        story_ja: "1923年に鳥井信治郎によって設立された山崎蒸溜所は日本最古の蒸溜所です。その場所はスコットランドに似た湿度の高い気候と、三川が合流する地点の霧が熟成に最適だったため選ばれました。",
        features_en: ["Fruity aroma", "Deep richness", "Multiple international awards"],
        features_ja: ["フルーティな香り", "深いコク", "数々の国際賞受賞"],
        price_en: "¥12,000 - ¥100,000",
        price_ja: "12,000円～100,000円",
        availability_en: "Limited availability",
        availability_ja: "品薄・高騰中",
        image: "yamazaki.jpg",
        official_url: "https://www.suntory.com/whisky/yamazaki/"
      },
      {
        id: "hakushu",
        name_en: "Hakushu",
        name_ja: "白州",
        type_en: "Single Malt",
        type_ja: "シングルモルト",
        description_en: "Forest-inspired whisky with crisp herbal notes and smoky undertones, distilled in the Japanese Alps.",
        description_ja: "日本アルプスで蒸溜され、森を思わせるハーブの香りとスモーキーな味わいが特徴のウイスキー。",
        story_en: "Nestled in the forests of the Japanese Alps at 700m elevation, Hakushu uses melted snow water filtered through granite mountains. Distillery workers report seeing Japanese serows (goat-antelopes) wandering near the warehouses, adding to its mystical forest ambiance.",
        story_ja: "標高700mの日本アルプスの森に囲まれた白州蒸溜所では、花崗岩を通ってきた雪解け水を使用しています。時には蔵の近くにニホンカモシカが現れ、神秘的な森の雰囲気を醸し出しています。",
        features_en: ["Refreshing taste", "Light mouthfeel", "Ideal for beginners"],
        features_ja: ["爽やかな味わい", "軽やかな口当たり", "初心者にも最適"],
        price_en: "¥7,000 - ¥70,000",
        price_ja: "7,000円～70,000円",
        availability_en: "Lottery for limited editions",
        availability_ja: "限定品は抽選",
        image: "hakushu.jpg",
        official_url: "https://www.suntory.com/whisky/hakushu/"
      },
      {
        id: "hibiki",
        name_en: "Hibiki",
        name_ja: "響",
        type_en: "Blended",
        type_ja: "ブレンデッド",
        description_en: "Harmony of malt and grain whiskies from Yamazaki, Hakushu and Chita distilleries.",
        description_ja: "山崎、白州、知多のモルトとグレーンウイスキーの調和が生み出す深みのある味わい。",
        story_en: "Hibiki means 'resonance' in Japanese, symbolizing the harmony between people and nature. Each bottle features 24 facets representing the 24 seasons of the traditional Japanese calendar. The whisky itself is a masterpiece of blending art.",
        story_ja: "響は日本語で「共鳴」を意味し、人と自然の調和を象徴しています。瓶の24の切子は日本の伝統的な二十四節季を表しており、ウイスキー自体がブレンディング芸術の傑作です。",
        features_en: ["Multiple WWA awards", "Elegant bottle design", "Ideal for gifts"],
        features_ja: ["WWA複数受賞", "エレガントな瓶デザイン", "贈答用に最適"],
        price_en: "¥8,000 - ¥80,000",
        price_ja: "8,000円～80,000円",
        availability_en: "Increasing distribution",
        availability_ja: "流通増加中",
        image: "hibiki.jpg",
        official_url: "https://www.suntory.com/whisky/hibiki/"
      },
      {
        id: "yoichi",
        name_en: "Yoichi",
        name_ja: "余市",
        type_en: "Single Malt",
        type_ja: "シングルモルト",
        description_en: "Powerful smoky whisky distilled with traditional coal-fired direct heating method.",
        description_ja: "石炭直火蒸溜による力強いスモーキーな味わいが特徴のウイスキー。",
        story_en: "Founded by Masataka Taketsuru, the father of Japanese whisky, Yoichi's location was chosen for its similarity to Scotland. Taketsuru-san studied whisky-making in Scotland and married a Scottish woman, bringing both knowledge and passion to Japan.",
        story_ja: "日本のウイスキーの父、竹鶴政孝によって設立された余市蒸溜所。その場所はスコットランドに似ているために選ばれました。竹鶴氏はスコットランドでウイスキー製造を学び、スコットランド人女性と結婚して知識と情熱を日本に持ち帰りました。",
        features_en: ["Strong smokiness", "Traditional method", "Beloved by Scotch lovers"],
        features_ja: ["力強いスモーキー感", "伝統的製法", "スコッチ愛好家にも人気"],
        price_en: "¥6,000 - ¥30,000",
        price_ja: "6,000円～30,000円",
        availability_en: "Stable for re-releases",
        availability_ja: "再販品は安定",
        image: "yoichi.jpg",
        official_url: "https://www.nikka.com/whisky/yoichi/"
      },
      {
        id: "fuji",
        name_en: "Fuji",
        name_ja: "富士",
        type_en: "Single Grain",
        type_ja: "シングルグレーン",
        description_en: "Light and smooth whisky made with water from Mount Fuji, ideal for highballs.",
        description_ja: "富士山麓の水を使用した軽やかでスムースなウイスキー。ハイボールに最適。",
        story_en: "Distilled at the foot of Mount Fuji, Japan's sacred mountain. The distillery uses water filtered through volcanic rock over decades, creating a uniquely smooth character. Local legends say the water is blessed by mountain spirits.",
        story_ja: "日本の聖なる山、富士山のふもとで蒸溜されています。蒸溜所では何十年も火山岩を通ってきた水を使用し、独特のスムースな特徴を生み出しています。地元の伝説では、この水は山の精霊に祝福されていると言われています。",
        features_en: ["WWA 2025 Award winner", "Light taste", "Great value"],
        features_ja: ["WWA 2025 受賞", "軽やかな味わい", "コスパ良好"],
        price_en: "¥4,000 - ¥20,000",
        price_ja: "4,000円～20,000円",
        availability_en: "Easily available",
        availability_ja: "入手容易",
        image: "fuji.jpg",
        official_url: "https://fujiwhisky.com/"
      },
      {
        id: "ichiro",
        name_en: "Ichiro's Malt",
        name_ja: "イチローズモルト",
        type_en: "Blended Malt",
        type_ja: "ブレンデッドモルト",
        description_en: "Innovative blended malt featuring unique cask finishes and flavor profiles.",
        description_ja: "独特な樽仕上げと味わいが特徴の革新的なブレンデッドモルトウイスキー。",
        story_en: "Created by Ichiro Akuto, grandson of the founder of Hanyu Distillery. When the distillery closed, he rescued the remaining casks and created this award-winning brand. Each release tells a story of Japanese whisky history.",
        story_ja: "羽生蒸溜所創業者の孫、肥土伊知郎氏によって創られました。蒸溜所が閉鎖された際に残っていた樽を救い出し、この受賞歴のあるブランドを生み出しました。各リリースは日本ウイスキーの歴史を物語っています。",
        features_en: ["WWA 2025 World Best Blended", "Innovative aging", "Collector's item"],
        features_ja: ["WWA 2025 ワールドベストブレンデッド受賞", "革新的な熟成", "コレクターアイテム"],
        price_en: "¥15,000 - ¥45,000",
        price_ja: "15,000円～45,000円",
        availability_en: "Lottery for limited editions",
        availability_ja: "限定品は抽選",
        image: "ichiro.jpg",
        official_url: "https://www.venturewhisky.com/"
      },
      {
        id: "chita",
        name_en: "Chita",
        name_ja: "知多",
        type_en: "Single Grain",
        type_ja: "シングルグレーン",
        description_en: "Smooth and clean grain whisky perfect for highballs and cocktails.",
        description_ja: "ハイボールやカクテルに最適なスムースでクリーンなグレーンウイスキー。",
        story_en: "While most focus on malt whisky, Chita demonstrates the art of Japanese grain whisky. The distillery is located near Nagoya Port, where sea breezes influence the maturation process, adding a subtle saline note.",
        story_ja: "多くの注目がモルトウイスキーに向けられる中、知多は日本のグレーンウイスキーの芸術を実演しています。蒸溜所は名古屋港の近くに位置し、海風が熟成プロセスに影響を与え、微妙な塩味を加えています。",
        features_en: ["Highball staple", "Clean finish", "Affordable"],
        features_ja: ["ハイボールの定番", "すっきりした後味", "手頃な価格"],
        price_en: "¥5,000 - ¥6,000",
        price_ja: "5,000円～6,000円",
        availability_en: "Stable supply",
        availability_ja: "安定供給",
        image: "chita.jpg",
        official_url: "https://www.suntory.com/whisky/chita/"
      },
      {
        id: "taketsuru",
        name_en: "Taketsuru",
        name_ja: "竹鶴",
        type_en: "Blended",
        type_ja: "ブレンデッド",
        description_en: "Pure malt blend honoring the father of Japanese whisky, Masataka Taketsuru.",
        description_ja: "日本のウイスキーの父、竹鶴政孝に敬意を表したピュアモルトブレンド。",
        story_en: "Named after Masataka Taketsuru who founded Nikka Whisky. His journey to Scotland and subsequent marriage to Rita Cowan became legendary. This whisky symbolizes the union of Japanese craftsmanship and Scottish tradition.",
        story_ja: "ニッカウヰスキーを設立した竹鶴政孝にちなんで名付けられました。スコットランドへの旅とその後リタ・カワンとの結婚は伝説的となりました。このウイスキーは日本の職人技とスコットランドの伝統の結合を象徴しています。",
        features_en: ["Smooth and mellow", "Increasingly rare", "Collector's favorite"],
        features_ja: ["滑らかでまろやか", "希少性増加中", "コレクター好み"],
        price_en: "¥10,000 - ¥50,000",
        price_ja: "10,000円～50,000円",
        availability_en: "Mainly secondary market",
        availability_ja: "中古市場中心",
        image: "taketsuru.jpg",
        official_url: "https://www.nikka.com/whisky/taketsuru/"
      },
      {
        id: "akkeshi",
        name_en: "Akkeshi",
        name_ja: "厚岸",
        type_en: "Single Malt",
        type_ja: "シングルモルト",
        description_en: "Peated whisky from Hokkaido with maritime influences and complex flavors.",
        description_ja: "北海道産のピートウイスキーで、海の影響と複雑な味わいが特徴。",
        story_en: "Inspired by Islay whiskies, Akkeshi is made in a similar cold, coastal environment. The distillery uses local peat and ages barrels in warehouses battered by sea winds, creating a unique 'sea salt' character.",
        story_ja: "アイラウイスキーに触発され、厚岸は同様に寒冷な沿岸環境で製造されています。蒸溜所では地元のピートを使用し、海風に晒される倉庫で樽を熟成させ、独特の「海塩」キャラクターを生み出しています。",
        features_en: ["WWA 2025 Gold Award", "Peaty and briny", "Hokkaido terroir"],
        features_ja: ["WWA 2025 ゴールド受賞", "ピート感と潮香", "北海道テロワール"],
        price_en: "¥13,000 - ¥20,000",
        price_ja: "13,000円～20,000円",
        availability_en: "Limited quantities",
        availability_ja: "数量限定品",
        image: "akkeshi.jpg",
        official_url: "https://akkeshi-whisky.com/"
      },
      {
        id: "miyagikyo",
        name_en: "Miyagikyo",
        name_ja: "宮城峡",
        type_en: "Single Malt",
        type_ja: "シングルモルト",
        description_en: "Elegant and fruity malt contrasting with Yoichi's boldness, from a forested valley.",
        description_ja: "森に囲まれた渓谷で造られる、余市の力強さとは対照的なエレガントでフルーティなモルト。",
        story_en: "Nestled in a deep forested valley, Miyagikyo was established as Yoichi's gentle counterpart. The distillery is surrounded by sacred Shinto shrines, and some believe the pure water source is protected by forest spirits.",
        story_ja: "深い森に囲まれた渓谷に位置する宮城峡蒸溜所は、余市の優しい対照として設立されました。蒸溜所は神聖な神社に囲まれており、純粋な水源は森の精霊に守られていると信じる人もいます。",
        features_en: ["Fruity style", "Important for blending", "Elegant character"],
        features_ja: ["フルーティなスタイル", "ブレンド原酒として重要", "優雅な特徴"],
        price_en: "¥6,000 - ¥40,000",
        price_ja: "6,000円～40,000円",
        availability_en: "Re-releases available",
        availability_ja: "再販品あり",
        image: "miyagikyo.jpg",
        official_url: "https://www.nikka.com/whisky/miyagikyo/"
      },
      {
        id: "amahagan",
        name_en: "Amahagan",
        name_ja: "アマハガン",
        type_en: "Craft Blended",
        type_ja: "クラフトブレンデッド",
        description_en: "Innovative blend featuring wine cask finishes and unique flavor combinations.",
        description_ja: "ワイン樽フィニッシュとユニークな味の組み合わせが特徴の革新的なブレンドウイスキー。",
        story_en: "From Nagahama Distillery, one of Japan's smallest. The name means 'together' in local dialect, reflecting their collaborative approach. Their experimental spirit represents the new generation of Japanese whisky makers.",
        story_ja: "日本最小規模の蒸溜所の一つ、長浜蒸留所から生まれました。名前は地元の方言で「一緒に」を意味し、協力的なアプローチを反映しています。実験的な精神は日本のウイスキーメーカーの新世代を代表しています。",
        features_en: ["Wine cask finish", "Complex flavors", "Award-winning"],
        features_ja: ["ワイン樽フィニッシュ", "複雑な味わい", "受賞歴あり"],
        price_en: "¥6,000 - ¥7,500",
        price_ja: "6,000円～7,500円",
        availability_en: "Mainly online",
        availability_ja: "オンライン中心",
        image: "amahagan.jpg",
        official_url: "https://www.nagahamadistillery.jp/"
      },
      {
        id: "kanosuke",
        name_en: "Kanosuke",
        name_ja: "嘉之助",
        type_en: "Single Malt",
        type_ja: "シングルモルト",
        description_en: "Balanced whisky with peaty notes and tropical fruit flavors from Kagoshima.",
        description_ja: "鹿児島産のピート感と南国フルーツのバランスが取れたウイスキー。",
        story_en: "Distilled on the scenic Kikai Island, where the Kuroshio Current brings warm winds. The distillery uses local sweet potatoes in fermentation and Japanese oak for aging, creating a truly southern Japanese character.",
        story_ja: "黒潮が暖かい風をもたらす景勝地、喜界島で蒸溜されています。蒸溜所では地元のサツマイモを発酵に使用し、日本産オークで熟成させ、真に南国的な特徴を生み出しています。",
        features_en: ["SFWSC 2025 Gold Award", "Peat and fruit balance", "Innovative"],
        features_ja: ["SFWSC 2025 金賞受賞", "ピートとフルーツのバランス", "革新的"],
        price_en: "¥15,000 - ¥30,000",
        price_ja: "15,000円～30,000円",
        availability_en: "Distillery direct sales",
        availability_ja: "蒸溜所直売",
        image: "kanosuke.jpg",
        official_url: "https://kanosuke.com/"
      }
    ];

    // DOM elements
    const mainPage = document.getElementById('mainPage');
    const detailPage = document.getElementById('detailPage');
    const themeToggle = document.getElementById('themeToggle');
    const langToggle = document.getElementById('langToggle');
    const body = document.body;

    // Initialize the app
    function initApp() {
      renderWhiskyList();
      setupEventListeners();
      setupServiceWorker();
    }

    // Render whisky list on main page
    function renderWhiskyList() {
      const listContainer = document.querySelector('.whisky-list');
      listContainer.innerHTML = '';
      
      const currentLang = body.getAttribute('data-lang');
      const nameKey = currentLang === 'ja' ? 'name_ja' : 'name_en';
      const typeKey = currentLang === 'ja' ? 'type_ja' : 'type_en';
      
      whiskyData.forEach(whisky => {
        const card = document.createElement('div');
        card.className = 'whisky-card';
        card.innerHTML = `
          <div class="card-img" style="background-image: url('images/${whisky.image}')">
            <div class="card-type">${whisky[typeKey]}</div>
          </div>
          <div class="card-content">
            <h3 class="card-title">${whisky[nameKey]}</h3>
            <div class="card-subtitle">${whisky[typeKey]}</div>
            <div class="card-features">
              ${whisky.features_en.map(feat => 
                `<div class="card-feature">${feat}</div>`
              ).join('')}
            </div>
          </div>
        `;
        card.addEventListener('click', () => showDetail(whisky.id));
        listContainer.appendChild(card);
      });
    }

    // Show detail page
    function showDetail(whiskyId) {
      const whisky = whiskyData.find(w => w.id === whiskyId);
      if (!whisky) return;
      
      const currentLang = body.getAttribute('data-lang');
      const nameKey = currentLang === 'ja' ? 'name_ja' : 'name_en';
      const descKey = currentLang === 'ja' ? 'description_ja' : 'description_en';
      const typeKey = currentLang === 'ja' ? 'type_ja' : 'type_en';
      const storyKey = currentLang === 'ja' ? 'story_ja' : 'story_en';
      const priceKey = currentLang === 'ja' ? 'price_ja' : 'price_en';
      const availKey = currentLang === 'ja' ? 'availability_ja' : 'availability_en';
      
      detailPage.innerHTML = `
        <div class="detail-header">
          <h2 class="detail-title">${whisky[nameKey]}</h2>
        </div>
        <div class="detail-img" style="background-image: url('images/${whisky.image}')"></div>
        <div class="detail-content">
          <div class="detail-section">
            <span class="detail-label"><i class="fas fa-tag"></i>${currentLang === 'ja' ? '種類' : 'Type'}</span>
            <div>${whisky[typeKey]}</div>
          </div>
          
          <div class="detail-section">
            <span class="detail-label"><i class="fas fa-file-alt"></i>${currentLang === 'ja' ? '説明' : 'Description'}</span>
            <div>${whisky[descKey]}</div>
          </div>
          
          <div class="detail-section">
            <span class="detail-label"><i class="fas fa-star"></i>${currentLang === 'ja' ? '特徴' : 'Features'}</span>
            <div class="detail-features">
              ${whisky.features_en.map(feat => 
                `<div class="detail-feature">${feat}</div>`
              ).join('')}
            </div>
          </div>
          
          <div class="detail-section">
            <span class="detail-label"><i class="fas fa-yen-sign"></i>${currentLang === 'ja' ? '価格帯' : 'Price Range'}</span>
            <div>${whisky[priceKey]}</div>
          </div>
          
          <div class="detail-section">
            <span class="detail-label"><i class="fas fa-store"></i>${currentLang === 'ja' ? '入手状況' : 'Availability'}</span>
            <div>${whisky[availKey]}</div>
          </div>
          
          <div class="detail-section">
            <span class="detail-label"><i class="fas fa-book"></i>${currentLang === 'ja' ? '物語' : 'Cultural Story'}</span>
            <div class="story">${whisky[storyKey]}</div>
          </div>
          
          <a href="${whisky.official_url}" target="_blank" class="detail-label">
            <i class="fas fa-globe"></i>
            ${currentLang === 'ja' ? '公式ウェブサイト' : 'Official Website'}
          </a>
          
          <button class="back-btn"><i class="fas fa-arrow-left"></i>${currentLang === 'ja' ? 'リストに戻る' : 'Back to List'}</button>
        </div>
      `;
      
      mainPage.style.display = 'none';
      detailPage.style.display = 'block';
      
      // Add back button event
      document.querySelector('.back-btn').addEventListener('click', () => {
        mainPage.style.display = 'block';
        detailPage.style.display = 'none';
      });
    }

    // Setup event listeners
    function setupEventListeners() {
      // Theme toggle
      themeToggle.addEventListener('click', () => {
        const currentTheme = body.getAttribute('data-theme');
        const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
        body.setAttribute('data-theme', newTheme);
        themeToggle.innerHTML = newTheme === 'dark' ? 
          '<i class="fas fa-moon"></i>' : '<i class="fas fa-sun"></i>';
        
        // Save preference
        localStorage.setItem('theme', newTheme);
      });
      
      // Language toggle
      langToggle.addEventListener('click', () => {
        const currentLang = body.getAttribute('data-lang');
        const newLang = currentLang === 'en' ? 'ja' : 'en';
        body.setAttribute('data-lang', newLang);
        
        // Toggle element visibility
        document.querySelectorAll('[data-lang]').forEach(el => {
          el.style.display = el.getAttribute('data-lang') === newLang ? 
            'block' : 'none';
        });
        
        renderWhiskyList();
        localStorage.setItem('language', newLang);
      });
    }

    // Setup service worker
    function setupServiceWorker() {
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('sw.js')
            .then(registration => {
              console.log('ServiceWorker registered:', registration);
            })
            .catch(error => {
              console.log('ServiceWorker registration failed:', error);
            });
        });
      }
    }

    // Load preferences
    function loadPreferences() {
      // Theme
      const savedTheme = localStorage.getItem('theme') || 'dark';
      body.setAttribute('data-theme', savedTheme);
      themeToggle.innerHTML = savedTheme === 'dark' ? 
        '<i class="fas fa-moon"></i>' : '<i class="fas fa-sun"></i>';
      
      // Language
      const savedLang = localStorage.getItem('language') || 'en';
      body.setAttribute('data-lang', savedLang);
      document.querySelectorAll('[data-lang]').forEach(el => {
        el.style.display = el.getAttribute('data-lang') === savedLang ? 
          'block' : 'none';
      });
    }

    // Initialize when loaded
    window.addEventListener('DOMContentLoaded', () => {
      loadPreferences();
      initApp();
    });
  </script>
</body>
</html>
